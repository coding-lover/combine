{"remainingRequest":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/www/kit/www/Public/kit-test/src/components/common/PhpTestUnit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/www/kit/www/Public/kit-test/src/components/common/PhpTestUnit.vue","mtime":1610195529772},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport MyPrism from \"./MyPrism\";\nimport {getSpotBalanceById} from \"../../api/accounts\";\nexport default {\n    data () {\n        return {\n            plugins: ['line-numbers'],\n            targetFunc: null,\n            result: {},\n        }\n    },\n    props: {\n        func: {\n            type: String,\n            default: '',\n        },\n        params: {\n            type: Object,\n            default: function() {\n                return {};\n            },\n        },\n        rules: {\n            type: Object,\n            default: function() {\n                return {};\n            },\n        },\n\n    },\n    watch: {\n        func(val) {\n            this.checkFunc(val);\n        },\n    },\n    components: {\n        MyPrism\n    },\n    mounted() {\n        this.checkFunc(this.$props.func);\n        console.log('..................................');\n\n    },\n    methods: {\n        onSubmit() {\n            if(!this.targetFunc)\n            {\n                this.$notify.error({title: '错误', message: this.$props.func + ' 方法找不到！'});\n                return false;\n            }\n\n            console.log(this.$refs.spotForm);\n\n            this.$refs.spotForm.validate(valid => {\n                if (valid) {\n                    getSpotBalanceById(this.spotParams).then(res => {\n                        this.result = res.payload;\n                        console.log(res);\n                        this.$notify({\n                            title: '成功',\n                            message: `#${this.$props.func}  获取成功`,\n                            type: 'success'\n                        });\n                    });\n                } else {\n                    this.$message.error('参数有误！');\n                    return false;\n                }\n            });\n        },\n\n        checkFunc(func) {\n            let tmp = require('../../api/accounts');\n            if(!tmp || !tmp[func])\n            {\n                this.targetFunc = null;\n                this.$notify.error({title: '错误', message: func + ' 方法找不到！'});\n                return false;\n            }\n\n            this.targetFunc = tmp[func];\n        }\n    }\n}\n",{"version":3,"sources":["PhpTestUnit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"PhpTestUnit.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <el-collapse accordion>\r\n            <el-collapse-item>\r\n                <template slot=\"title\">\r\n                    <slot name=\"u-title\"></slot> <i class=\"header-icon el-icon-document\"></i>\r\n                </template>\r\n                <my-prism  :plugins=\"plugins\" style=\"height: 300px;overflow-y: auto\"><slot name=\"u-code\"></slot></my-prism>\r\n            </el-collapse-item>\r\n        </el-collapse>\r\n\r\n        <el-form :inline=\"true\"  class=\"demo-form-inline mt-5\" :model=\"params\" :rules=\"rules\" ref=\"spotForm\">\r\n            <slot name=\"u-form\"></slot>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n\r\n        <el-collapse value=\"1\" accordion>\r\n            <el-collapse-item name=\"1\">\r\n                <template slot=\"title\" >\r\n                    结果 <i class=\"header-icon el-icon-document\"></i>\r\n                </template>\r\n                <json-viewer :value=\"result\" :expand-depth=\"5\" boxed></json-viewer>\r\n            </el-collapse-item>\r\n        </el-collapse>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import MyPrism from \"./MyPrism\";\r\n    import {getSpotBalanceById} from \"../../api/accounts\";\r\n    export default {\r\n        data () {\r\n            return {\r\n                plugins: ['line-numbers'],\r\n                targetFunc: null,\r\n                result: {},\r\n            }\r\n        },\r\n        props: {\r\n            func: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            params: {\r\n                type: Object,\r\n                default: function() {\r\n                    return {};\r\n                },\r\n            },\r\n            rules: {\r\n                type: Object,\r\n                default: function() {\r\n                    return {};\r\n                },\r\n            },\r\n\r\n        },\r\n        watch: {\r\n            func(val) {\r\n                this.checkFunc(val);\r\n            },\r\n        },\r\n        components: {\r\n            MyPrism\r\n        },\r\n        mounted() {\r\n            this.checkFunc(this.$props.func);\r\n            console.log('..................................');\r\n\r\n        },\r\n        methods: {\r\n            onSubmit() {\r\n                if(!this.targetFunc)\r\n                {\r\n                    this.$notify.error({title: '错误', message: this.$props.func + ' 方法找不到！'});\r\n                    return false;\r\n                }\r\n\r\n                console.log(this.$refs.spotForm);\r\n\r\n                this.$refs.spotForm.validate(valid => {\r\n                    if (valid) {\r\n                        getSpotBalanceById(this.spotParams).then(res => {\r\n                            this.result = res.payload;\r\n                            console.log(res);\r\n                            this.$notify({\r\n                                title: '成功',\r\n                                message: `#${this.$props.func}  获取成功`,\r\n                                type: 'success'\r\n                            });\r\n                        });\r\n                    } else {\r\n                        this.$message.error('参数有误！');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n\r\n            checkFunc(func) {\r\n                let tmp = require('../../api/accounts');\r\n                if(!tmp || !tmp[func])\r\n                {\r\n                    this.targetFunc = null;\r\n                    this.$notify.error({title: '错误', message: func + ' 方法找不到！'});\r\n                    return false;\r\n                }\r\n\r\n                this.targetFunc = tmp[func];\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    h1{\r\n        text-align: center;\r\n        margin: 30px 0;\r\n    }\r\n    p{\r\n        line-height: 30px;\r\n        margin-bottom: 10px;\r\n        text-indent: 2em;\r\n    }\r\n    .logout{\r\n        color: #409EFF;\r\n    }\r\n    .mt-5 {\r\n        margin-top: 5px;\r\n    }\r\n</style>\r\n"]}]}