{"remainingRequest":"/data/www/combine/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/www/combine/src/components/page/Combine.vue?vue&type=template&id=3362c3a2&","dependencies":[{"path":"/data/www/combine/src/components/page/Combine.vue","mtime":1666168806535},{"path":"/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/combine/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/www/combine/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1655712169000},{"path":"/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/combine/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n    <el-row :gutter=\"10\">\n        <el-col :span=\"24\" :offset=\"0\" class=\"wrap\">\n            <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n\n                <el-tab-pane  name=\"first\" class=\"wrap-padding\">\n                    <span slot=\"label\">程式替换<el-badge :value=\"totalNum\" class=\"large-btn\" :hidden=\"totalNum > 0 ? false : true\" ></el-badge></span>\n\n                    <el-col :span=\"12\" class=\"margin-bottom-10\" v-for=\"(item, idx) in nodeList\">\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <el-col :span=\"5\">\n                                    <el-input v-model=\"item.search\" prefix-icon=\"el-icon-search\" placeholder=\"查找\"></el-input>\n                                </el-col>\n                                <el-col :span=\"5\">\n                                    <el-input v-model=\"item.replace\" prefix-icon=\"el-icon-edit\" placeholder=\"替换\"></el-input>\n                                </el-col>\n                                <el-badge :value=\"item.fileNum\" class=\"\" :hidden=\"item.fileNum > 0 ? false : true\">\n                                    <el-button v-show=\"!replaceFlag(idx)\" size=\"small\" class=\"ml-3\" type=\"primary\"\n                                               @click=\"doReplace(idx)\">替换\n                                    </el-button>\n                                    <el-button v-show=\"replaceFlag(idx)\" class=\"ml-3\" size=\"small\" type=\"success\">已替换</el-button>\n                                </el-badge>\n                                <el-button size=\"small\" type=\"primary\" class=\"margin-left-3\" @click=\"downloadFile(idx)\">下载</el-button>\n                                <el-button size=\"small\" type=\"danger\" class=\"margin-left-3\" @click=\"clearSearchReplace(idx)\">清空</el-button>\n                                <el-button size=\"small\" type=\"success\" class=\"ml-3\" @click=\"getReplaceHis(idx)\">替换历史</el-button>\n\n                            </div>\n                            <div class=\"content-overflow\">\n                                <el-upload\n                                        class=\"sr-upload-demo\"\n                                        drag\n                                        :ref=\"createUploadKey(idx)\"\n                                        action=\"\"\n                                        :on-preview=\"handlePreview\"\n                                        :on-remove=\"handleRemove(idx)\"\n                                        :on-progress=\"handleProgress\"\n                                        :on-change=\"myHandleChange(idx)\"\n                                        :auto-upload=\"false\"\n                                        multiple>\n                                    <i class=\"el-icon-upload\" v-show=\"item.fileNum == 0\"></i>\n                                    <div class=\"el-upload__text\" v-show=\"item.fileNum == 0\">将文件拖到此处，或<em>点击上传</em></div>\n                                </el-upload>\n                            </div>\n\n                        </el-card>\n                    </el-col>\n\n                    <el-col :span=\"12\" class=\"margin-bottom-10\">\n                        <div class=\"my-avatar-uploader content-overflow\" @click=\"addNode\">\n                            <i class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        </div>\n\n                        <el-row class=\"mt-10\">\n                            <el-badge :value=\"totalNum\" class=\"large-btn\" :hidden=\"totalNum > 0 ? false : true\" >\n                                <el-button type=\"danger\" size=\"medium\" class=\"large-btn\" @click=\"batchReplace\">批量替换</el-button>\n                            </el-badge>\n                        </el-row>\n\n                        <el-row class=\"mt-10\">\n                            <el-button type=\"primary\" size=\"medium\" class=\"large-btn\" @click=\"batchDownload\">批量下载</el-button>\n                        </el-row>\n\n                    </el-col>\n\n\n                </el-tab-pane>\n\n\n                <!--<el-tab-pane label=\"文件合并\" name=\"second\" v-show=\"false\">\n                    <el-col :span=\"10\">\n                        <el-form ref=\"form\" :rules=\"formRules\" :model=\"form\" label-width=\"90px\">\n                            <el-form-item label=\"使用替换\">\n                                <el-switch v-model=\"form.delivery\">\n                                </el-switch>\n                                <span style=\"color: #F56C6C;margin-left: 5px;display: inline-block;\">使用已经替换的文件或者重新上传文件</span>\n                            </el-form-item>\n                            <el-form-item label=\"上传\" v-show=\"!form.delivery\">\n                                <span slot=\"label\">上传<el-badge :value=\"specialNum\" :hidden=\"specialNum > 0 ? false : true\" ></el-badge></span>\n                                <el-upload\n                                        class=\"\"\n                                        drag\n                                        action=\"\"\n                                        :ref=\"createUploadKey(specialKey)\"\n                                        :on-change=\"myHandleChange(specialKey)\"\n                                        :on-remove=\"handleRemove(specialKey)\"\n                                        :auto-upload=\"false\"\n                                        multiple>\n                                    <i class=\"el-icon-upload\"></i>\n                                    <div class=\"el-upload__text\">\n\n                                        <p>将文件拖到此处，或<em>点击上传</em></p>\n                                    </div>\n                                </el-upload>\n                            </el-form-item>\n\n                            <el-form-item label=\"文件头\" prop=\"fileHeader\">\n                                <el-input type=\"textarea\" v-model=\"form.fileHeader\"></el-input>\n                            </el-form-item>\n\n\n                            <el-form-item label=\"文件尾\" prop=\"fileFooter\">\n                                <el-input type=\"textarea\" v-model=\"form.fileFooter\"></el-input>\n                            </el-form-item>\n\n                            <el-form-item label=\"文件名\" prop=\"fileName\">\n                                <el-input placeholder=\"请输入内容\" v-model=\"form.fileName\" class=\"input-with-select\">\n                                    <el-select v-model=\"form.fileSuffix\" slot=\"append\" placeholder=\"请选择\" prop=\"fileSuffix\">\n                                        <el-option\n                                                v-for=\"item in form.fileSuffixOptions\"\n                                                :key=\"item.value\"\n                                                :label=\"item.name\"\n                                                :value=\"item.value\">\n                                        </el-option>\n                                    </el-select>\n                                </el-input>\n\n                            </el-form-item>\n\n                            <el-form-item>\n                                <el-button v-show=\"form.ready\" type=\"primary\" @click=\"combineFile\">立即合并</el-button>\n                                <el-button v-show=\"!form.ready\" type=\"primary\" :loading=\"true\">合并中</el-button>\n                                <el-button @click=\"formReset()\">取消</el-button>\n                            </el-form-item>\n                        </el-form>\n                    </el-col>\n                    <el-col :span=\"14\">\n\n                        <div class=\"drag-box\">\n                            <div class=\"drag-box-item\">\n                                <el-empty v-show=\"getFileList.length == 0\" description=\"未上传文件\"></el-empty>\n                                <el-table-draggable handle=\".allowDrag\" @drop=\"dragChange\">\n                                    <el-table\n                                            ref=\"dragTable\"\n                                            :data=\"getFileList\"\n                                            style=\"width: 100%\" v-show=\"getFileList.length > 0\">\n                                        <el-table-column\n                                                prop=\"id\"\n                                                label=\"拖拽\"\n                                                width=\"50\">\n                                            <template slot-scope=\"{row}\">\n                                                <i class=\"el-icon-rank allowDrag\" style=\"cursor:pointer\" /> {{row.id}}\n                                            </template>\n                                        </el-table-column>\n                                        <el-table-column\n                                                prop=\"name\"\n                                                label=\"文件名\"\n                                                width=\"230\" >\n                                            <template slot-scope=\"scope\">\n                                                <span class=\"overflow-text\">{{scope.row.name}}</span>\n                                            </template>\n                                        </el-table-column>\n                                        <el-table-column\n                                                prop=\"option\"\n                                                label=\"操作\">\n                                            <template slot=\"header\" slot-scope=\"scope\">\n                                                <el-select class=\"\" v-model=\"dragConfig.optionVal\" placeholder=\"请选择\" size=\"mini\">\n                                                    <el-option\n                                                            v-for=\"item in dragConfig.options\"\n                                                            :key=\"item.value\"\n                                                            :label=\"item.label\"\n                                                            :value=\"item.value\">\n                                                    </el-option>\n                                                </el-select>\n\n                                                <el-input-number class=\" ml-3\" size=\"mini\" v-model=\"dragConfig.setVal\" controls-position=\"right\"  :min=\"0\" :max=\"10\" placeholder=\"值\"></el-input-number>\n\n                                                <el-button type=\"primary\" size=\"mini\" class=\"ml-3\" @click=\"fileConfigAdd\">加</el-button>\n                                                <el-button type=\"primary\" size=\"mini\" @click=\"fileConfigReduce\">减</el-button>\n                                            </template>\n                                            <template slot-scope=\"scope\">\n                                                <el-input-number :controls=\"false\" :ref=\"createDeleteKey(scope.row.id, 'headerDeleteLine')\" size=\"mini\" v-model=\"scope.row.headerDeleteLine\" controls-position=\"right\"  :min=\"0\"  placeholder=\"文件头删除行数\"></el-input-number>\n                                                <el-input-number :controls=\"false\" :ref=\"createDeleteKey(scope.row.id, 'footerDeleteLine')\" class=\"ml-3\" size=\"mini\" v-model=\"scope.row.footerDeleteLine\" controls-position=\"right\" :min=\"0\" placeholder=\"文件尾删除行数\"></el-input-number>\n                                            </template>\n\n                                        </el-table-column>\n\n                                    </el-table>\n                                </el-table-draggable>\n                            </div>\n                        </div>\n\n                    </el-col>\n\n                </el-tab-pane>-->\n\n                <el-tab-pane label=\"程式串联\" name=\"third\" style=\"margin-top: 10px;\" class=\"third-box\">\n                    <el-col :span=\"10\">\n                        <el-card class=\"box-card\" shadow=\"never\" >\n                            <span class=\"box-card-title\">要串联的程式</span>\n\n                            <div class=\"content-overflow\">\n                                <el-upload v-show=\"!form.delivery\"\n                                        class=\"upload-demo\"\n                                        drag\n                                        :ref=\"createUploadKey(specialBoxKey)\"\n                                        action=\"\"\n                                        :on-preview=\"handlePreview\"\n                                        :on-remove=\"handleRemove(specialBoxKey)\"\n                                        :on-progress=\"handleProgress\"\n                                        :on-change=\"myHandleChange(specialBoxKey)\"\n                                        :auto-upload=\"false\"\n                                        :disabled=\"false\"\n                                        multiple>\n                                    <i class=\"el-icon-upload\" v-show=\"specialBoxFileList.length == 0\"></i>\n                                    <div class=\"el-upload__text\" v-show=\"specialBoxFileList == 0\">将文件拖到此处，或<em>点击上传</em></div>\n                                </el-upload>\n\n                                <ul class=\"el-upload-list el-upload-list--text\" v-show=\"form.delivery\">\n                                    <el-empty description=\"请在程式替换页面上传文件\" v-show=\"getFileList.length == 0\">\n                                        <el-button type=\"primary\" plain @click=\"activeName='first'\">去上传</el-button>\n                                    </el-empty>\n\n                                    <li tabindex=\"0\" class=\"el-upload-list__item is-ready\" v-for=\"file in getFileList\">\n                                        <a class=\"el-upload-list__item-name\"><i class=\"el-icon-document\"></i>{{file.name}}</a>\n                                        <label class=\"el-upload-list__item-status-label\">\n                                            <i class=\"el-icon-upload-success el-icon-circle-check\"></i>\n                                        </label>\n                                        <i class=\"el-icon-close\" @click=\"deleteNodeListFile(file.nodeIdx, file.id)\"></i>\n                                        <i class=\"el-icon-close-tip\">按 delete 键可删除</i>\n                                    </li>\n                                </ul>\n\n                            </div>\n                            <div class=\"box-operator clearfix\">\n                                <el-col :span=\"12\">\n                                    <el-badge :value=\"specialBoxNum\" class=\"large-btn\" :hidden=\"specialBoxNum > 0 ? false : true\" >\n                                        <el-button type=\"primary\" v-show=\"form.ready\" size=\"medium\" class=\"large-btn\" @click=\"combineFile\">合并</el-button>\n                                        <el-button v-show=\"!form.ready\" type=\"primary\"  size=\"medium\" class=\"large-btn\" :loading=\"true\">合并中</el-button>\n                                    </el-badge>\n                                </el-col>\n                                <el-col :span=\"12\"><el-button type=\"danger\" size=\"medium\" class=\"large-btn\" @click=\"clearBoxFileList\">清空</el-button></el-col>\n                            </div>\n\n                        </el-card>\n                    </el-col>\n\n                    <el-col :span=\"14\">\n                        <el-form ref=\"form\" :rules=\"formRules\" :model=\"form\" label-width=\"150px\">\n                            <el-form-item label=\"使用替换\">\n                                <el-switch v-model=\"form.delivery\">\n                                </el-switch>\n                                <span style=\"color: #F56C6C;margin-left: 5px;display: inline-block;\">使用已经替换的程式或者重新上传程式</span>\n                            </el-form-item>\n\n                            <el-form-item label=\"文件头删除行数\" prop=\"fileHeaderDeletedLine\">\n                                <el-select v-model=\"form.fileHeaderDeletedLine\"  placeholder=\"请选择\" >\n                                    <el-option\n                                            v-for=\"num in 20\"\n                                            :key=\"num\"\n                                            :label=\"num\"\n                                            :value=\"num\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n\n                            <el-form-item label=\"文件尾删除行数\" prop=\"fileFooterDeletedLine\">\n                                <el-select v-model=\"form.fileFooterDeletedLine\"  placeholder=\"请选择\" >\n                                    <el-option\n                                            v-for=\"num in 20\"\n                                            :key=\"num\"\n                                            :label=\"num\"\n                                            :value=\"num\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n\n                            <el-form-item label=\"文件头增加\" prop=\"fileHeader\">\n                                <el-input type=\"textarea\" v-model=\"form.fileHeader\"></el-input>\n                            </el-form-item>\n\n\n                            <el-form-item label=\"文件尾增加\" prop=\"fileFooter\" class=\"clearfix\">\n                                <el-col :span=\"14\">\n                                    <el-input type=\"textarea\" v-model=\"form.fileFooter\" :autosize=\"{ minRows: 6}\"></el-input>\n                                </el-col>\n\n                                <el-col :span=\"10\">\n                                    <el-input placeholder=\"模板名\" class=\"margin-bottom-10\" v-model=\"form.templateName\"></el-input>\n\n                                    <el-button icon=\"el-icon-document\" @click=\"showTemplate\">选择模板</el-button>\n                                    <el-button icon=\"el-icon-document-add\" type=\"primary\" plain @click=\"saveTemplate\">保存模板</el-button>\n                                </el-col>\n                            </el-form-item>\n\n                            <el-form-item label=\"串联程式新名\" prop=\"fileName\">\n                                <el-input placeholder=\"串联程式新名\" v-model=\"form.fileName\" class=\"input-with-select\">\n                                    <el-select v-model=\"form.fileSuffix\" slot=\"append\" placeholder=\"请选择\" prop=\"fileSuffix\">\n                                        <el-option\n                                                v-for=\"item in form.fileSuffixOptions\"\n                                                :key=\"item.value\"\n                                                :label=\"item.name\"\n                                                :value=\"item.value\">\n                                        </el-option>\n                                    </el-select>\n                                </el-input>\n\n                            </el-form-item>\n\n                            <el-form-item label=\"文件保存路径\" prop=\"filePath\">\n                                <el-input placeholder=\"文件保存路径\" v-model=\"form.filePath\" class=\"input-with-select\" readonly>\n                                    <el-button slot=\"append\" icon=\"el-icon-folder\" type=\"success\" @click=\"openFolder\"></el-button>\n                                </el-input>\n                            </el-form-item>\n\n                            <el-form-item>\n                                <!--<el-button v-show=\"form.ready\" type=\"primary\" @click=\"combineFile\">立即合并</el-button>\n                                <el-button v-show=\"!form.ready\" type=\"primary\" :loading=\"true\">合并中</el-button>\n                                <el-button @click=\"formReset()\">取消</el-button>-->\n                            </el-form-item>\n                        </el-form>\n\n                    </el-col>\n\n                    <el-dialog title=\"选择文件尾模板\" :visible.sync=\"dialogFormVisible\">\n                        <el-form >\n                            <div v-for=\"(item,key) in getTemplate\">\n                                <el-form-item label=\"\" prop=\"fileName\">\n                                    <el-col :span=\"10\">\n                                        <el-radio v-model=\"form.selectedTemplate\" :label=\"key\" border class=\"s-radio\">\n                                            <el-input   placeholder=\"模板名称\" v-model=\"item.name\" class=\"s-input\"></el-input>\n                                        </el-radio>\n\n                                    </el-col>\n\n                                    <el-col :span=\"13\">\n                                        <el-input placeholder=\"文件尾增加内容\" v-model=\"item.value\" type=\"textarea\" :autosize=\"{ minRows: 6}\">\n\n                                        </el-input>\n\n                                    </el-col>\n                                    <el-col :span=\"1\"  title=\"删除\" >\n                                        <i class=\"el-icon-close t-close\" @click=\"deleteTemplate(key)\"></i>\n                                    </el-col>\n\n                                </el-form-item>\n                                <el-divider class=\"clearfix\"></el-divider>\n                            </div>\n\n                        </el-form>\n\n                        <div slot=\"footer\" class=\"dialog-footer\">\n                            <el-button  @click=\"addTemplate\">增 加</el-button>\n                            <el-button type=\"primary\" @click=\"dialogSaveTemplate\">保 存</el-button>\n                        </div>\n                    </el-dialog>\n\n<!--                    选择文件夹-->\n                    <el-dialog title=\"选择保存的目录\" :visible.sync=\"dialogFolderSelectVisible\">\n                        <div>\n                            <span class=\"folder-select-title\">当前选中: </span>\n                            <span v-show=\"getCurFolder.length == 0\" style=\"color:red;\">未选中文件夹</span>\n                            <span v-show=\"getCurFolder.length > 0\">{{getCurFolder}}</span>\n                        </div>\n                        <div class=\"folder-content\">\n                            <v-folder :data=\"folderData\"  :ajax=\"ajax\" :conf=\"folderConfig\" @change=\"folderChange\"></v-folder>\n                        </div>\n                        <div slot=\"footer\" class=\"dialog-footer\">\n                            <el-button type=\"primary\" @click=\"dialogSaveFolder\">保 存</el-button>\n                        </div>\n                    </el-dialog>\n\n                </el-tab-pane>\n            </el-tabs>\n        </el-col>\n    </el-row>\n",null]}