{"remainingRequest":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/www/kit/www/Public/kit-test/src/components/page/OrderList.vue?vue&type=style&index=0&id=07bcd91d&scoped=true&lang=css&","dependencies":[{"path":"/data/www/kit/www/Public/kit-test/src/components/page/OrderList.vue","mtime":1652686790222},{"path":"/data/www/kit/www/Public/kit-test/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.block {\r\n    margin-left: 30px;\r\n}\r\n\r\n.el-table .warning-row {\r\n    background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n    background: #f0f9eb;\r\n}\r\n",{"version":3,"sources":["OrderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"OrderList.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n\r\n    <div class=\"container\">\r\n        <div class=\"block\">\r\n            <el-timeline>\r\n                <el-timeline-item placement=\"top\"\r\n                        v-for=\"(activity, index) in activities\"\r\n                        :key=\"index\"\r\n                        :icon=\"activity.icon\"\r\n                        :type=\"activity.type\"\r\n                        :color=\"activity.color\"\r\n                        :size=\"activity.size\"\r\n                        :timestamp=\"activity.timestamp\">\r\n                    <el-card>\r\n                        <el-table\r\n                                :data=\"activity.table\"\r\n                                :row-class-name=\"tableRowClassName\"\r\n                                style=\"width: 100%\">\r\n                            <el-table-column\r\n                                    prop=\"breed\"\r\n                                    label=\"品种\"\r\n                                    width=\"180\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"oid\"\r\n                                    label=\"oid\"\r\n                                    width=\"180\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"size\"\r\n                                    label=\"数量\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"side\"\r\n                                    label=\"方向\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"price\"\r\n                                    label=\"均价\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"equity\"\r\n                                    label=\"权益\">\r\n                            </el-table-column>\r\n\r\n\r\n                        </el-table>\r\n                        <div v-html=\"activity.content\"></div>\r\n                    </el-card>\r\n                </el-timeline-item>\r\n            </el-timeline>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n    import {sprintf} from \"../../utils/index\";\r\n    import {getOrderList} from \"../../api/accounts\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                activities: [\r\n                   /* {\r\n                    content: '支持使用图标',\r\n                    timestamp: '2018-04-12 20:46',\r\n                    size: 'large',\r\n                    type: 'primary',\r\n                    icon: 'el-icon-more'\r\n                }, {\r\n                    content: '支持自定义颜色',\r\n                    size: 'large',\r\n                    type: 'success',\r\n                    timestamp: '2018-04-03 20:46',\r\n                    color: '#0bbd87'\r\n                }, {\r\n                    content: '支持自定义尺寸',\r\n                    timestamp: '2018-04-03 20:46',\r\n                    size: 'large'\r\n                }, {\r\n                    content: '默认样式的节点',\r\n                    timestamp: '2018-04-03 20:46'\r\n                }*/\r\n                ]\r\n            };\r\n        },\r\n        mounted() {\r\n            //console.log(this.sprintf(\"%d + %s\", 1,  'xxxx'))\r\n            this.renderOrderList();\r\n        },\r\n        methods: {\r\n            tableRowClassName({row, rowIndex}) {\r\n                if (row.coid != '') {\r\n                    return 'warning-row';\r\n                }\r\n\r\n                return '';\r\n            },\r\n            renderOrderList() {\r\n                getOrderList().then(res => {\r\n                    console.log(res);\r\n                    res.payload.data.map(item => {\r\n                        //console.log(item)\r\n                        let multi = 0;\r\n                        let message = {\r\n                            content: '',\r\n                            timestamp: '',\r\n                            size: 'large',\r\n                            table: [],\r\n                            //type: 'primary',\r\n                            //color: '#0bbd87',\r\n                            //icon: 'el-icon-more'\r\n                        };\r\n                        if(item.spot.length > 0) {\r\n                            multi++;\r\n                            //message.content += \"<h4>spot</h4>\";\r\n                            item.spot.map((value, key) => {\r\n                                message.table.push({\r\n                                    breed: 'spot',\r\n                                    oid: value.oid,\r\n                                    coid: value.coid,\r\n                                    size: value.size,\r\n                                    side: value.side,\r\n                                    price: value.price + '/' + value.avg_price,\r\n                                    equity: 0,\r\n                                });\r\n                                message.timestamp = value.date;\r\n                                //message.content += this.sprintf(\"oid=%s, size=%s, price=%s, side=%s<br \\>\", value.oid, value.size, value.price, value.side);\r\n                            });\r\n                            message.content += \"<br />\";\r\n                        }\r\n\r\n                        if(item.swap.length > 0) {\r\n                            multi++;\r\n                            //message.content += \"<h4>swap</h4>\";\r\n                            item.swap.map((value, key) => {\r\n                                message.table.push({\r\n                                    breed: 'swap',\r\n                                    oid: value.oid,\r\n                                    coid: value.coid,\r\n                                    size: value.size,\r\n                                    side: value.side,\r\n                                    price: 0,\r\n                                    equity: value.profit + ' / ' + value.equity,\r\n                                });\r\n\r\n                                message.timestamp = value.date;\r\n                                //message.content += this.sprintf(\"oid=%s, size=%s, profit=%s/%s, side=%s<br \\>\", value.oid, value.size, value.profit, value.equity, value.side);\r\n                            });\r\n                        }\r\n\r\n                        if(multi == 2) {\r\n                            message.icon = 'el-icon-more';\r\n                            message.color = '#0bbd87';\r\n                        }\r\n\r\n                        this.activities.push(message)\r\n                    });\r\n\r\n                });\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n.block {\r\n    margin-left: 30px;\r\n}\r\n\r\n.el-table .warning-row {\r\n    background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n    background: #f0f9eb;\r\n}\r\n</style>\r\n"]}]}