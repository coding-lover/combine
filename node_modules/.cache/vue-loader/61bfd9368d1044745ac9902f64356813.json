{"remainingRequest":"/data/www/combine/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/www/combine/src/components/page/AccountsNew.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/www/combine/src/components/page/AccountsNew.vue","mtime":1618905572737},{"path":"/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/combine/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/combine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport AccountsTestUnit from \"../common/AccountsTestUnit\";\nexport default {\n    name: 'accountsNew',\n    data () {\n        return {\n            activeName: 'single',\n            restful: [\n                {\n                    colSpan: 8,\n                    config: [\n                        {\n                            title: '现货资产',\n                            func: 'getSpotBalanceById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `public function getSpotBalanceById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在22.');\n\n        $balance = $this->getPositionSpot(self::ALL_SYMBOL, $exInfo);\n\n        return $this->ret($balance);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                        {\n                            title: '杠杆资产',\n                            func: 'getMarginBalanceById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `public function getMarginBalanceById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $balance = $this->getMarginBalance(self::ALL_SYMBOL, $exInfo, true);\n\n        return $this->ret($balance);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                        {\n                            title: '杠杆信息',\n                            func: 'getMarginInfoById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'mode',\n                                    title: '模式',\n                                    value: 'all',\n                                    options: [\n                                        {value: 'all', label: '全部'},\n                                        {value: 'crossed', label: '全仓'},\n                                        {value: 'fixed', label: '逐仓'},\n                                    ],\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n\n                            ],\n                            code: `/**\n * @desc\n * @param $taid\n * @param string $mode [ all | fixed | crossed ]\n * @author wmc\n * @date 2019-11-15 11:49\n * \"fixed\" => [...],\n * \"crossed\" => [...],\n */\npublic function getMarginInfoById($taid, $mode = 'all')\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $balance = $this->AccountSource->fetchMarginBalanceRaw($exInfo);\n\n        return $this->ret($balance);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n\n                    ]\n                },\n\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '交割资产',\n                            func: 'getFutureBalanceById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `/**\n * @desc  期货\n * @param $taid\n * @author wmc\n * @date 2019-11-06 17:28\n */\npublic function getFutureBalanceById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $balance = $this->getFutureBalance(self::ALL_SYMBOL, $exInfo);\n\n        return $this->ret($balance);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                        {\n                            title: '交割仓位',\n                            func: 'getFuturePositionAllById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `/**\n * @desc  期货仓位 all\n * @param $taid\n * @author wmc\n * @date 2019-11-06 17:36\n */\npublic function getFuturePositionAllById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $position = $this->getPositionFutureAll($exInfo);\n\n        return $this->ret($position);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                    ],\n                },\n\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '永续资产',\n                            func: 'getSwapBalanceById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `/**\n * @desc  永续\n * @param $taid\n * @author wmc\n * @date 2019-11-06 17:28\n */\npublic function getSwapBalanceById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $balance = $this->getSwapBalance(self::ALL_SYMBOL, $exInfo);\n\n        return $this->ret($balance);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                        {\n                            title: '永续仓位',\n                            func: 'getSwapPositionAllById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                }\n                            ],\n                            code: `/**\n * @desc  永续仓位 all\n * @param $taid\n * @author wmc\n * @date 2019-11-06 17:34\n */\npublic function getSwapPositionAllById($taid)\n{\n    try {\n        $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\n        if(empty($exInfo))\n            throw new \\\\Exception('账户不存在.');\n\n        $position = $this->getPositionSwapAll($exInfo);\n\n        return $this->ret($position);\n    } catch (\\\\Exception $e) {\n        return $this->err($e->getMessage());\n    }\n}`,\n                        },\n                    ],\n                }\n            ],\n\n            cache: [\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '现货资产缓存',\n                            func: 'getSpotCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '杠杆资产缓存',\n                            func: 'getMarginCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '交割资产缓存',\n                            func: 'getFutureCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '交割头寸缓存',\n                            func: 'getFuturePosCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '永续资产缓存',\n                            func: 'getSwapCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '永续头寸缓存',\n                            func: 'getSwapPosCacheById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                }\n            ],\n\n            mix: [\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '现货资产',\n                            func: 'getSpotWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '杠杆资产',\n                            func: 'getMarginWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '交割资产',\n                            func: 'getFutureWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '交割仓位',\n                            func: 'getFuturePosWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '永续资产',\n                            func: 'getSwapWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '永续仓位',\n                            func: 'getSwapPosWithRecoupById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n            ],\n            collect: [\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '交割资产',\n                            func: 'getFutureCollectById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '交割仓位',\n                            func: 'getFuturePosCollectById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '永续资产',\n                            func: 'getSwapCollectById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '永续仓位',\n                            func: 'getSwapPosCollectById',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'taid',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'passive',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '纯被动'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n            ],\n\n            balanceSummary: [\n                {\n                    colSpan: 12,\n                    config: [\n                        {\n                            title: '主动模式',\n                            func: 'getBalanceSummary',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'id',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'input',\n                                    field: 'filter',\n                                    title: '过滤',\n                                    value: 1,\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n\n                                {\n                                    type: 'select',\n                                    field: 'is_rpc',\n                                    title: '模式',\n                                    value: 0,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '混合'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                        {\n                            title: '混合模式',\n                            func: 'getBalanceSummary',\n\n                            rules: [\n                                {\n                                    type: 'input',\n                                    field: 'id',\n                                    title: '账号Id',\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'input',\n                                    field: 'filter',\n                                    title: '过滤',\n                                    value: 1,\n                                    validate: [{required: true, message: '不能为空'}]\n                                },\n                                {\n                                    type: 'select',\n                                    field: 'is_rpc',\n                                    title: '模式',\n                                    value: 1,\n                                    options: [\n                                        {value: 0, label: '主动'},\n                                        {value: 1, label: '混合'},\n                                    ],\n                                },\n\n                            ],\n                            code: ``,\n                        },\n                    ]\n                },\n\n            ],\n            single: {\n                title: '独立接口测试',\n                rules: [\n                    {\n                        type: 'input',\n                        field: 'taid',\n                        title: '账号Id',\n                        validate: [{required: true, message: '不能为空'}]\n                    },\n                    {\n                        type: 'select',\n                        field: 'passive',\n                        title: '模式',\n                        value: 0,\n                        options: [\n                            {value: 0, label: '主动'},\n                            {value: 1, label: '纯被动'},\n                        ],\n                    },\n                ],\n                code: ``,\n            },\n        }\n    },\n    components: {\n        AccountsTestUnit,\n    },\n    created() {\n        //console.log('accounts create ................');\n        let rules = {\n            type: 'select',\n            field: 'func',\n            title: '',\n            options: [],\n            props: {\n                filterable: true,\n            },\n            validate: [{required: true, message: '不能为空'}]\n        };\n\n        this.restful.map((value) => {\n            value.config.map((item) => {\n                rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\n            });\n        });\n\n        this.cache.map((value) => {\n            value.config.map((item) => {\n                rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\n            });\n        });\n\n        this.mix.map((value) => {\n            value.config.map((item) => {\n                rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\n            });\n        });\n\n        this.collect.map((value) => {\n            value.config.map((item) => {\n                rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\n            });\n        });\n\n        this.single.rules.push(rules);\n    },\n    mounted() {\n        console.log(process.env.NODE_ENV);\n    },\n    methods: {\n\n    }\n}\n",{"version":3,"sources":["AccountsNew.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AccountsNew.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n\r\n<div>\r\n    <div class=\"crumbs\">\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item><i class=\"el-icon-lx-notice\"></i>仓位测试</el-breadcrumb-item>\r\n            <el-breadcrumb-item>账号测试Multi</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n    </div>\r\n    <div class=\"container\">\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"\">\r\n            <el-tab-pane label=\"单个\" name=\"single\">\r\n                <div>\r\n                    <el-row :gutter=\"5\" >\r\n                        <el-col>\r\n                            <accounts-test-unit :title=\"single.title\"  :rules=\"single.rules\">\r\n                                <template v-slot:u-code>{{single.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"主动\" name=\"restful\">\r\n                <div class=\"\">\r\n                    <el-row :gutter=\"5\" v-for=\"(item, key) in restful\">\r\n                        <el-col :span=\"item.colSpan\" v-for=\"(params, key) in item.config\">\r\n                            <accounts-test-unit :title=\"params.title\" :func=\"params.func\" :rules=\"params.rules\">\r\n                                <template v-slot:u-code>{{params.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"缓存\" name=\"cache\">\r\n                <div>\r\n                    <el-row :gutter=\"5\" v-for=\"(item, key) in cache\">\r\n                        <el-col :span=\"item.colSpan\" v-for=\"(params, key) in item.config\">\r\n                            <accounts-test-unit :title=\"params.title\" :func=\"params.func\" :rules=\"params.rules\">\r\n                                <template v-slot:u-code>{{params.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"混合\" name=\"recoup\">\r\n                <div>\r\n                    <el-row :gutter=\"5\" v-for=\"(item, key) in mix\">\r\n                        <el-col :span=\"item.colSpan\" v-for=\"(params, key) in item.config\">\r\n                            <accounts-test-unit :title=\"params.title\" :func=\"params.func\" :rules=\"params.rules\">\r\n                                <template v-slot:u-code>{{params.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"集合\" name=\"collect\">\r\n                <div>\r\n                    <el-row :gutter=\"5\" v-for=\"(item, key) in collect\">\r\n                        <el-col :span=\"item.colSpan\" v-for=\"(params, key) in item.config\">\r\n                            <accounts-test-unit :title=\"params.title\" :func=\"params.func\" :rules=\"params.rules\">\r\n                                <template v-slot:u-code>{{params.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"主动/混合\" name=\"balanceSummary\">\r\n                <div>\r\n                    <el-row :gutter=\"5\" v-for=\"(item, key) in balanceSummary\">\r\n                        <el-col :span=\"item.colSpan\" v-for=\"(params, key) in item.config\">\r\n                            <accounts-test-unit :title=\"params.title\" :func=\"params.func\" :rules=\"params.rules\">\r\n                                <template v-slot:u-code>{{params.code}}</template>\r\n                            </accounts-test-unit>\r\n                        </el-col>\r\n                    </el-row>\r\n                </div>\r\n            </el-tab-pane>\r\n\r\n\r\n        </el-tabs>\r\n    </div>\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n    import AccountsTestUnit from \"../common/AccountsTestUnit\";\r\n    export default {\r\n        name: 'accountsNew',\r\n        data () {\r\n            return {\r\n                activeName: 'single',\r\n                restful: [\r\n                    {\r\n                        colSpan: 8,\r\n                        config: [\r\n                            {\r\n                                title: '现货资产',\r\n                                func: 'getSpotBalanceById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `public function getSpotBalanceById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在22.');\r\n\r\n            $balance = $this->getPositionSpot(self::ALL_SYMBOL, $exInfo);\r\n\r\n            return $this->ret($balance);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                            {\r\n                                title: '杠杆资产',\r\n                                func: 'getMarginBalanceById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `public function getMarginBalanceById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $balance = $this->getMarginBalance(self::ALL_SYMBOL, $exInfo, true);\r\n\r\n            return $this->ret($balance);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                            {\r\n                                title: '杠杆信息',\r\n                                func: 'getMarginInfoById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'mode',\r\n                                        title: '模式',\r\n                                        value: 'all',\r\n                                        options: [\r\n                                            {value: 'all', label: '全部'},\r\n                                            {value: 'crossed', label: '全仓'},\r\n                                            {value: 'fixed', label: '逐仓'},\r\n                                        ],\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n\r\n                                ],\r\n                                code: `/**\r\n     * @desc\r\n     * @param $taid\r\n     * @param string $mode [ all | fixed | crossed ]\r\n     * @author wmc\r\n     * @date 2019-11-15 11:49\r\n     * \"fixed\" => [...],\r\n     * \"crossed\" => [...],\r\n     */\r\n    public function getMarginInfoById($taid, $mode = 'all')\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $balance = $this->AccountSource->fetchMarginBalanceRaw($exInfo);\r\n\r\n            return $this->ret($balance);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n\r\n                        ]\r\n                    },\r\n\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '交割资产',\r\n                                func: 'getFutureBalanceById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `/**\r\n     * @desc  期货\r\n     * @param $taid\r\n     * @author wmc\r\n     * @date 2019-11-06 17:28\r\n     */\r\n    public function getFutureBalanceById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $balance = $this->getFutureBalance(self::ALL_SYMBOL, $exInfo);\r\n\r\n            return $this->ret($balance);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                            {\r\n                                title: '交割仓位',\r\n                                func: 'getFuturePositionAllById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `/**\r\n     * @desc  期货仓位 all\r\n     * @param $taid\r\n     * @author wmc\r\n     * @date 2019-11-06 17:36\r\n     */\r\n    public function getFuturePositionAllById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $position = $this->getPositionFutureAll($exInfo);\r\n\r\n            return $this->ret($position);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                        ],\r\n                    },\r\n\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '永续资产',\r\n                                func: 'getSwapBalanceById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `/**\r\n     * @desc  永续\r\n     * @param $taid\r\n     * @author wmc\r\n     * @date 2019-11-06 17:28\r\n     */\r\n    public function getSwapBalanceById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $balance = $this->getSwapBalance(self::ALL_SYMBOL, $exInfo);\r\n\r\n            return $this->ret($balance);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                            {\r\n                                title: '永续仓位',\r\n                                func: 'getSwapPositionAllById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    }\r\n                                ],\r\n                                code: `/**\r\n     * @desc  永续仓位 all\r\n     * @param $taid\r\n     * @author wmc\r\n     * @date 2019-11-06 17:34\r\n     */\r\n    public function getSwapPositionAllById($taid)\r\n    {\r\n        try {\r\n            $exInfo = $this->getSummaryAccount($this->regnumber, $taid);\r\n            if(empty($exInfo))\r\n                throw new \\\\Exception('账户不存在.');\r\n\r\n            $position = $this->getPositionSwapAll($exInfo);\r\n\r\n            return $this->ret($position);\r\n        } catch (\\\\Exception $e) {\r\n            return $this->err($e->getMessage());\r\n        }\r\n    }`,\r\n                            },\r\n                        ],\r\n                    }\r\n                ],\r\n\r\n                cache: [\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '现货资产缓存',\r\n                                func: 'getSpotCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '杠杆资产缓存',\r\n                                func: 'getMarginCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '交割资产缓存',\r\n                                func: 'getFutureCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '交割头寸缓存',\r\n                                func: 'getFuturePosCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '永续资产缓存',\r\n                                func: 'getSwapCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '永续头寸缓存',\r\n                                func: 'getSwapPosCacheById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    }\r\n                ],\r\n\r\n                mix: [\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '现货资产',\r\n                                func: 'getSpotWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '杠杆资产',\r\n                                func: 'getMarginWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '交割资产',\r\n                                func: 'getFutureWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '交割仓位',\r\n                                func: 'getFuturePosWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '永续资产',\r\n                                func: 'getSwapWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '永续仓位',\r\n                                func: 'getSwapPosWithRecoupById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                ],\r\n                collect: [\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '交割资产',\r\n                                func: 'getFutureCollectById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '交割仓位',\r\n                                func: 'getFuturePosCollectById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '永续资产',\r\n                                func: 'getSwapCollectById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '永续仓位',\r\n                                func: 'getSwapPosCollectById',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'taid',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'passive',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '纯被动'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n                ],\r\n\r\n                balanceSummary: [\r\n                    {\r\n                        colSpan: 12,\r\n                        config: [\r\n                            {\r\n                                title: '主动模式',\r\n                                func: 'getBalanceSummary',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'id',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'filter',\r\n                                        title: '过滤',\r\n                                        value: 1,\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'is_rpc',\r\n                                        title: '模式',\r\n                                        value: 0,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '混合'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                            {\r\n                                title: '混合模式',\r\n                                func: 'getBalanceSummary',\r\n\r\n                                rules: [\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'id',\r\n                                        title: '账号Id',\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'input',\r\n                                        field: 'filter',\r\n                                        title: '过滤',\r\n                                        value: 1,\r\n                                        validate: [{required: true, message: '不能为空'}]\r\n                                    },\r\n                                    {\r\n                                        type: 'select',\r\n                                        field: 'is_rpc',\r\n                                        title: '模式',\r\n                                        value: 1,\r\n                                        options: [\r\n                                            {value: 0, label: '主动'},\r\n                                            {value: 1, label: '混合'},\r\n                                        ],\r\n                                    },\r\n\r\n                                ],\r\n                                code: ``,\r\n                            },\r\n                        ]\r\n                    },\r\n\r\n                ],\r\n                single: {\r\n                    title: '独立接口测试',\r\n                    rules: [\r\n                        {\r\n                            type: 'input',\r\n                            field: 'taid',\r\n                            title: '账号Id',\r\n                            validate: [{required: true, message: '不能为空'}]\r\n                        },\r\n                        {\r\n                            type: 'select',\r\n                            field: 'passive',\r\n                            title: '模式',\r\n                            value: 0,\r\n                            options: [\r\n                                {value: 0, label: '主动'},\r\n                                {value: 1, label: '纯被动'},\r\n                            ],\r\n                        },\r\n                    ],\r\n                    code: ``,\r\n                },\r\n            }\r\n        },\r\n        components: {\r\n            AccountsTestUnit,\r\n        },\r\n        created() {\r\n            //console.log('accounts create ................');\r\n            let rules = {\r\n                type: 'select',\r\n                field: 'func',\r\n                title: '',\r\n                options: [],\r\n                props: {\r\n                    filterable: true,\r\n                },\r\n                validate: [{required: true, message: '不能为空'}]\r\n            };\r\n\r\n            this.restful.map((value) => {\r\n                value.config.map((item) => {\r\n                    rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\r\n                });\r\n            });\r\n\r\n            this.cache.map((value) => {\r\n                value.config.map((item) => {\r\n                    rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\r\n                });\r\n            });\r\n\r\n            this.mix.map((value) => {\r\n                value.config.map((item) => {\r\n                    rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\r\n                });\r\n            });\r\n\r\n            this.collect.map((value) => {\r\n                value.config.map((item) => {\r\n                    rules.options.push({value: item.func, label: `${item.title}-${item.func}`});\r\n                });\r\n            });\r\n\r\n            this.single.rules.push(rules);\r\n        },\r\n        mounted() {\r\n            console.log(process.env.NODE_ENV);\r\n        },\r\n        methods: {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\nh1{\r\n    text-align: center;\r\n    margin: 30px 0;\r\n}\r\np{\r\n    line-height: 30px;\r\n    margin-bottom: 10px;\r\n    text-indent: 2em;\r\n}\r\n.logout{\r\n    color: #409EFF;\r\n}\r\n.mt-5 {\r\n    margin-top: 5px;\r\n}\r\n\r\n.el-row {\r\n    margin-bottom: 20px;\r\n\r\n}\r\n.el-col {\r\n    border-radius: 4px;\r\n}\r\n.bg-purple-dark {\r\n    background: #99a9bf;\r\n}\r\n.bg-purple {\r\n    background: #d3dce6;\r\n}\r\n.bg-purple-light {\r\n    background: #e5e9f2;\r\n}\r\n.grid-content {\r\n    border-radius: 4px;\r\n    min-height: 36px;\r\n}\r\n.row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n}\r\n</style>\r\n"]}]}