{"remainingRequest":"/data/www/kit/www/Public/kit-test/node_modules/babel-loader/lib/index.js!/data/www/kit/www/Public/kit-test/src/utils/rpcRequest.js","dependencies":[{"path":"/data/www/kit/www/Public/kit-test/src/utils/rpcRequest.js","mtime":1610024950197},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport globalConfig from \"./config\";\nvar service = axios.create({\n  // process.env.NODE_ENV === 'development' 来判断是否开发环境\n  baseURL: globalConfig.KIT_API_HOST,\n  timeout: 5000\n});\nservice.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\nservice.interceptors.response.use(function (response) {\n  if (response.data.code == 9) {//登录\n    //next('login');\n  }\n\n  if (response.status === 200) {\n    return response.data;\n  }\n\n  return Promise.reject(response.statusText);\n}, function (error) {\n  console.log(error);\n  return Promise.reject('Network error !');\n});\nexport default service;",{"version":3,"sources":["/data/www/kit/www/Public/kit-test/src/utils/rpcRequest.js"],"names":["axios","globalConfig","service","create","baseURL","KIT_API_HOST","timeout","interceptors","request","use","config","error","console","log","Promise","reject","response","data","code","status","statusText"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP;AAGA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACzB;AACAC,EAAAA,OAAO,EAAEH,YAAY,CAACI,YAFG;AAGzBC,EAAAA,OAAO,EAAE;AAHgB,CAAb,CAAhB;AAMAJ,OAAO,CAACK,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACN,SAAOA,MAAP;AACH,CAHL,EAII,UAAAC,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,EAAP;AACH,CAPL;AAUAb,OAAO,CAACK,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAO,QAAQ,EAAI;AACR,MAAGA,QAAQ,CAACC,IAAT,CAAcC,IAAd,IAAsB,CAAzB,EACA,CACI;AACA;AACH;;AAED,MAAIF,QAAQ,CAACG,MAAT,KAAoB,GAAxB,EAA6B;AACzB,WAAOH,QAAQ,CAACC,IAAhB;AACH;;AAED,SAAOH,OAAO,CAACC,MAAR,CAAeC,QAAQ,CAACI,UAAxB,CAAP;AACH,CAbL,EAcI,UAAAT,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,CAAe,iBAAf,CAAP;AACH,CAjBL;AAoBA,eAAeb,OAAf","sourcesContent":["import axios from 'axios';\nimport globalConfig from './config';\n\n\nconst service = axios.create({\n    // process.env.NODE_ENV === 'development' 来判断是否开发环境\n    baseURL: globalConfig.KIT_API_HOST,\n    timeout: 5000\n});\n\nservice.interceptors.request.use(\n    config => {\n        return config;\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\nservice.interceptors.response.use(\n    response => {\n        if(response.data.code == 9)\n        {\n            //登录\n            //next('login');\n        }\n\n        if (response.status === 200) {\n            return response.data;\n        }\n\n        return Promise.reject(response.statusText);\n    },\n    error => {\n        console.log(error);\n        return Promise.reject('Network error !');\n    }\n);\n\nexport default service;\n"]}]}