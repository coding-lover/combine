{"remainingRequest":"/data/www/kit/www/Public/kit-test/node_modules/thread-loader/dist/cjs.js!/data/www/kit/www/Public/kit-test/node_modules/babel-loader/lib/index.js!/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/data/www/kit/www/Public/kit-test/src/components/page/OrderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/data/www/kit/www/Public/kit-test/src/components/page/OrderList.vue","mtime":1652686790222},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/data/www/kit/www/Public/kit-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { sprintf } from \"../../utils/index\";\nimport { getOrderList } from \"../../api/accounts\";\nexport default {\n  data: function data() {\n    return {\n      tableData: [],\n      activities: [\n        /* {\n         content: '支持使用图标',\n         timestamp: '2018-04-12 20:46',\n         size: 'large',\n         type: 'primary',\n         icon: 'el-icon-more'\n        }, {\n         content: '支持自定义颜色',\n         size: 'large',\n         type: 'success',\n         timestamp: '2018-04-03 20:46',\n         color: '#0bbd87'\n        }, {\n         content: '支持自定义尺寸',\n         timestamp: '2018-04-03 20:46',\n         size: 'large'\n        }, {\n         content: '默认样式的节点',\n         timestamp: '2018-04-03 20:46'\n        }*/\n      ]\n    };\n  },\n  mounted: function mounted() {\n    //console.log(this.sprintf(\"%d + %s\", 1,  'xxxx'))\n    this.renderOrderList();\n  },\n  methods: {\n    tableRowClassName: function tableRowClassName(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex;\n\n      if (row.coid != '') {\n        return 'warning-row';\n      }\n\n      return '';\n    },\n    renderOrderList: function renderOrderList() {\n      var _this = this;\n\n      getOrderList().then(function (res) {\n        console.log(res);\n        res.payload.data.map(function (item) {\n          //console.log(item)\n          var multi = 0;\n          var message = {\n            content: '',\n            timestamp: '',\n            size: 'large',\n            table: [] //type: 'primary',\n            //color: '#0bbd87',\n            //icon: 'el-icon-more'\n\n          };\n\n          if (item.spot.length > 0) {\n            multi++; //message.content += \"<h4>spot</h4>\";\n\n            item.spot.map(function (value, key) {\n              message.table.push({\n                breed: 'spot',\n                oid: value.oid,\n                coid: value.coid,\n                size: value.size,\n                side: value.side,\n                price: value.price + '/' + value.avg_price,\n                equity: 0\n              });\n              message.timestamp = value.date; //message.content += this.sprintf(\"oid=%s, size=%s, price=%s, side=%s<br \\>\", value.oid, value.size, value.price, value.side);\n            });\n            message.content += \"<br />\";\n          }\n\n          if (item.swap.length > 0) {\n            multi++; //message.content += \"<h4>swap</h4>\";\n\n            item.swap.map(function (value, key) {\n              message.table.push({\n                breed: 'swap',\n                oid: value.oid,\n                coid: value.coid,\n                size: value.size,\n                side: value.side,\n                price: 0,\n                equity: value.profit + ' / ' + value.equity\n              });\n              message.timestamp = value.date; //message.content += this.sprintf(\"oid=%s, size=%s, profit=%s/%s, side=%s<br \\>\", value.oid, value.size, value.profit, value.equity, value.side);\n            });\n          }\n\n          if (multi == 2) {\n            message.icon = 'el-icon-more';\n            message.color = '#0bbd87';\n          }\n\n          _this.activities.push(message);\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["OrderList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n    <div class=\"container\">\r\n        <div class=\"block\">\r\n            <el-timeline>\r\n                <el-timeline-item placement=\"top\"\r\n                        v-for=\"(activity, index) in activities\"\r\n                        :key=\"index\"\r\n                        :icon=\"activity.icon\"\r\n                        :type=\"activity.type\"\r\n                        :color=\"activity.color\"\r\n                        :size=\"activity.size\"\r\n                        :timestamp=\"activity.timestamp\">\r\n                    <el-card>\r\n                        <el-table\r\n                                :data=\"activity.table\"\r\n                                :row-class-name=\"tableRowClassName\"\r\n                                style=\"width: 100%\">\r\n                            <el-table-column\r\n                                    prop=\"breed\"\r\n                                    label=\"品种\"\r\n                                    width=\"180\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"oid\"\r\n                                    label=\"oid\"\r\n                                    width=\"180\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"size\"\r\n                                    label=\"数量\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"side\"\r\n                                    label=\"方向\">\r\n                            </el-table-column>\r\n\r\n                            <el-table-column\r\n                                    prop=\"price\"\r\n                                    label=\"均价\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"equity\"\r\n                                    label=\"权益\">\r\n                            </el-table-column>\r\n\r\n\r\n                        </el-table>\r\n                        <div v-html=\"activity.content\"></div>\r\n                    </el-card>\r\n                </el-timeline-item>\r\n            </el-timeline>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n    import {sprintf} from \"../../utils/index\";\r\n    import {getOrderList} from \"../../api/accounts\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                activities: [\r\n                   /* {\r\n                    content: '支持使用图标',\r\n                    timestamp: '2018-04-12 20:46',\r\n                    size: 'large',\r\n                    type: 'primary',\r\n                    icon: 'el-icon-more'\r\n                }, {\r\n                    content: '支持自定义颜色',\r\n                    size: 'large',\r\n                    type: 'success',\r\n                    timestamp: '2018-04-03 20:46',\r\n                    color: '#0bbd87'\r\n                }, {\r\n                    content: '支持自定义尺寸',\r\n                    timestamp: '2018-04-03 20:46',\r\n                    size: 'large'\r\n                }, {\r\n                    content: '默认样式的节点',\r\n                    timestamp: '2018-04-03 20:46'\r\n                }*/\r\n                ]\r\n            };\r\n        },\r\n        mounted() {\r\n            //console.log(this.sprintf(\"%d + %s\", 1,  'xxxx'))\r\n            this.renderOrderList();\r\n        },\r\n        methods: {\r\n            tableRowClassName({row, rowIndex}) {\r\n                if (row.coid != '') {\r\n                    return 'warning-row';\r\n                }\r\n\r\n                return '';\r\n            },\r\n            renderOrderList() {\r\n                getOrderList().then(res => {\r\n                    console.log(res);\r\n                    res.payload.data.map(item => {\r\n                        //console.log(item)\r\n                        let multi = 0;\r\n                        let message = {\r\n                            content: '',\r\n                            timestamp: '',\r\n                            size: 'large',\r\n                            table: [],\r\n                            //type: 'primary',\r\n                            //color: '#0bbd87',\r\n                            //icon: 'el-icon-more'\r\n                        };\r\n                        if(item.spot.length > 0) {\r\n                            multi++;\r\n                            //message.content += \"<h4>spot</h4>\";\r\n                            item.spot.map((value, key) => {\r\n                                message.table.push({\r\n                                    breed: 'spot',\r\n                                    oid: value.oid,\r\n                                    coid: value.coid,\r\n                                    size: value.size,\r\n                                    side: value.side,\r\n                                    price: value.price + '/' + value.avg_price,\r\n                                    equity: 0,\r\n                                });\r\n                                message.timestamp = value.date;\r\n                                //message.content += this.sprintf(\"oid=%s, size=%s, price=%s, side=%s<br \\>\", value.oid, value.size, value.price, value.side);\r\n                            });\r\n                            message.content += \"<br />\";\r\n                        }\r\n\r\n                        if(item.swap.length > 0) {\r\n                            multi++;\r\n                            //message.content += \"<h4>swap</h4>\";\r\n                            item.swap.map((value, key) => {\r\n                                message.table.push({\r\n                                    breed: 'swap',\r\n                                    oid: value.oid,\r\n                                    coid: value.coid,\r\n                                    size: value.size,\r\n                                    side: value.side,\r\n                                    price: 0,\r\n                                    equity: value.profit + ' / ' + value.equity,\r\n                                });\r\n\r\n                                message.timestamp = value.date;\r\n                                //message.content += this.sprintf(\"oid=%s, size=%s, profit=%s/%s, side=%s<br \\>\", value.oid, value.size, value.profit, value.equity, value.side);\r\n                            });\r\n                        }\r\n\r\n                        if(multi == 2) {\r\n                            message.icon = 'el-icon-more';\r\n                            message.color = '#0bbd87';\r\n                        }\r\n\r\n                        this.activities.push(message)\r\n                    });\r\n\r\n                });\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n.block {\r\n    margin-left: 30px;\r\n}\r\n\r\n.el-table .warning-row {\r\n    background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n    background: #f0f9eb;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/page"}]}