{"remainingRequest":"/Users/zou/data/www/combine/node_modules/babel-loader/lib/index.js!/Users/zou/data/www/combine/src/utils/rpcRequest.js","dependencies":[{"path":"/Users/zou/data/www/combine/src/utils/rpcRequest.js","mtime":1618905572000},{"path":"/Users/zou/data/www/combine/babel.config.js","mtime":1698336527619},{"path":"/Users/zou/data/www/combine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zou/data/www/combine/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport globalConfig from \"./config\";\nvar localStorageRegnumber = localStorage.getItem('_n') || 6666;\nvar localStorageToken = localStorage.getItem('_t') || '5b04a34125b1eab46343d5d398b45976';\nconsole.log(globalConfig.KIT_API_HOST);\nvar service = axios.create({\n  // process.env.NODE_ENV === 'development' 来判断是否开发环境\n  baseURL: globalConfig.KIT_API_HOST,\n  timeout: 5000\n});\nservice.interceptors.request.use(function (config) {\n  //console.log(config);\n\n  config.headers.Regnumber = localStorageRegnumber;\n  config.headers.Token = localStorageToken;\n  console.log(config);\n  return config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\nservice.interceptors.response.use(function (response) {\n  if (response.data.code == 9) {\n    //登录\n    //next('login');\n  }\n  if (response.status === 200) {\n    return response.data;\n  }\n  return Promise.reject(response.statusText);\n}, function (error) {\n  console.log(error);\n  return Promise.reject('Network error !');\n});\nexport default service;",{"version":3,"names":["axios","globalConfig","localStorageRegnumber","localStorage","getItem","localStorageToken","console","log","KIT_API_HOST","service","create","baseURL","timeout","interceptors","request","use","config","headers","Regnumber","Token","error","Promise","reject","response","data","code","status","statusText"],"sources":["/Users/zou/data/www/combine/src/utils/rpcRequest.js"],"sourcesContent":["import axios from 'axios';\nimport globalConfig from './config';\nconst localStorageRegnumber = localStorage.getItem('_n') || 6666;\nconst localStorageToken = localStorage.getItem('_t') || '5b04a34125b1eab46343d5d398b45976';\n\nconsole.log(globalConfig.KIT_API_HOST);\n\nconst service = axios.create({\n    // process.env.NODE_ENV === 'development' 来判断是否开发环境\n    baseURL: globalConfig.KIT_API_HOST,\n    timeout: 5000\n});\n\nservice.interceptors.request.use(\n    config => {\n        //console.log(config);\n\n        config.headers.Regnumber = localStorageRegnumber;\n        config.headers.Token = localStorageToken;\n\n        console.log(config);\n\n        return config;\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\nservice.interceptors.response.use(\n    response => {\n        if(response.data.code == 9)\n        {\n            //登录\n            //next('login');\n        }\n\n        if (response.status === 200) {\n            return response.data;\n        }\n\n        return Promise.reject(response.statusText);\n    },\n    error => {\n        console.log(error);\n        return Promise.reject('Network error !');\n    }\n);\n\nexport default service;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY;AACnB,IAAMC,qBAAqB,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI;AAChE,IAAMC,iBAAiB,GAAGF,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,IAAI,kCAAkC;AAE1FE,OAAO,CAACC,GAAG,CAACN,YAAY,CAACO,YAAY,CAAC;AAEtC,IAAMC,OAAO,GAAGT,KAAK,CAACU,MAAM,CAAC;EACzB;EACAC,OAAO,EAAEV,YAAY,CAACO,YAAY;EAClCI,OAAO,EAAE;AACb,CAAC,CAAC;AAEFH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5B,UAAAC,MAAM,EAAI;EACN;;EAEAA,MAAM,CAACC,OAAO,CAACC,SAAS,GAAGhB,qBAAqB;EAChDc,MAAM,CAACC,OAAO,CAACE,KAAK,GAAGd,iBAAiB;EAExCC,OAAO,CAACC,GAAG,CAACS,MAAM,CAAC;EAEnB,OAAOA,MAAM;AACjB,CAAC,EACD,UAAAI,KAAK,EAAI;EACLd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;EAClB,OAAOC,OAAO,CAACC,MAAM,EAAE;AAC3B,CAAC,CACJ;AAEDb,OAAO,CAACI,YAAY,CAACU,QAAQ,CAACR,GAAG,CAC7B,UAAAQ,QAAQ,EAAI;EACR,IAAGA,QAAQ,CAACC,IAAI,CAACC,IAAI,IAAI,CAAC,EAC1B;IACI;IACA;EACJ;EAEA,IAAIF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACzB,OAAOH,QAAQ,CAACC,IAAI;EACxB;EAEA,OAAOH,OAAO,CAACC,MAAM,CAACC,QAAQ,CAACI,UAAU,CAAC;AAC9C,CAAC,EACD,UAAAP,KAAK,EAAI;EACLd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;EAClB,OAAOC,OAAO,CAACC,MAAM,CAAC,iBAAiB,CAAC;AAC5C,CAAC,CACJ;AAED,eAAeb,OAAO"}]}